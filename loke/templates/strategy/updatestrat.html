{% extends 'base.html' %} 
{% block extra_code_head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/list.css') }}" />
    <script defer src="{{ url_for('static', filename='js/cond_list.js') }}"></script>
    <script defer src="{{ url_for('static', filename='js/updatestrat_selectors.js') }}"></script>
{% endblock %}

{% block header %}

<div class="horizontal space-between">

  <h1 id="strategy_id" data-id="{{strategy['strategy_id']}}" >{% block title %}ID: {{strategy['strategy_id']}} {{ strategy['strategy_name'] }}{% endblock %}</h1>
  <div class="horizontal ">
  <form action="{{ url_for('strategy.deletestrat', id=strategy['strategy_id']) }}" method="post">
    <input class="danger" type="submit" value="Delete" onclick="return confirm('Are you sure?');" />
  </form>
  <form action="{{ url_for('strategy.truncate', id=strategy['strategy_id']) }}" method="post">
    <input class="danger" type="submit" value="Reset strategy" onclick="return confirm('Are you sure?');" />
  </form>
  </div>

</div>



{% endblock %} {% block content %}
<form class="hidden t" method="post">
  <label for="title"> Title</label>
  <input
    name="strategy_name"
    id="strategy_name"
    value="{{ request.form['strategy_name'] or strategy['strategy_name'] }}"
    required />
  <label for="info">info</label>
  <textarea name="info" id="info">{{ request.form['info'] or strategy['info'] }}</textarea>
  <input type="submit" value="Save" />
  <hr />
</form>
<div class="buttons">
  <button id="update_strat_text">Edit </button>
</div>

{% for dict_item in indicators %}
    {% for key, value in dict_item.items() %}
        {% if key == "kind" %} 
        <!-- will trigger update_chart function in script.js -->
        <button onclick="loadIndicator('{{ value }}','momentum')" >{{value}}</button>
        {% endif %}
    {% endfor %} 
{% endfor %}
<!-- <div id="input-container"></div> -->
<!-- indicator forms -->
<div class="form-container" id="form-container"></div>


<form class="preventDefault" action="/custom_endpoint" method="post">
    <input type="submit" value="Call Custom Endpoint">
</form>
    <div id="saved_conds">
    </div>
    <div id="saved_conds_sell">
    </div>
    <div id="cond">
    </div>
    <button onclick="del_last()">Del</button>
    <button onclick="del_last_sell_cond()">Del sell condition</button>
    <button onclick="del_last_buy_cond()">Del buy condition</button>

    <button id="update-button">Update Div</button>
    <!-- insert indicator btn's -->
    <div id="conditions"></div>
    <div id="conditions_sell"></div>
    <!-- insert comparison buttons -->
     <!-- <div id="compare"></div> 
      <label for="value_cond">value</label>
     <input id="value_cond" type="number">
     <button onclick="value_cond()" id="value_cond">Add value</button> -->
     <button onclick="save_cond_buy()" id="save_cond_buy">Save condition buy</button>
     <button onclick="save_cond_sell()" id="save_cond_sell">Save condition sell</button>
     <button onclick="backtest()" id="backtest">Save backtest</button>
     <button onclick="optimize()" id="optimize">Optimize</button>
     <span id="backtest_result"></span>
     <h2>sell</h2>
     <ul id="sell_conds"></ul>
     <h2>buy</h2>
     <ul id="buy_conds"></ul>
     <h2>buy conds</h2>
    <ul id="buy_cond2"></ul>
         <h2>sell conds</h2>
    <ul id="sell_cond2"></ul>
  
        <table>
          <thead>
            <tr>
              <th class="th-author"><p>Indicator</p></th>
              <th class="th-title"><p>operator</p></th>
              <th class="th-year"><p>min</p></th>
              <th class="th-year"><p>max</p></th>
            </tr>
          </thead>
          <tbody>
            <template id="optimize_params">
              <tr data-all="all" class="param">
                <td class="indicator"></td>
                <td class="operator"></td>
                <td><input class="min" type="number" value="0"></td>
                <td><input class="max" type="number" value="0"></td>
                <!-- <td class="max">&#128465;</td> -->
              </tr>
            </template>
          </tbody>
        </table>
        <button onclick="load_params()">load params</button>

    <div>

 
    <header>
      <h1>To Do List</h1>
          <a id="new_todo">New list</a>
    </header>
    <div class="clone">
      <div class="contentWrapper">


      <a class="showHelp">Help</a>
      <div>
        <header class="listHeaders">
          <div class="toDoHeader listHeader">Condition 1</div>
          <div class="ongoingHeader listHeader">Operator</div>
          <div class="doneHeader listHeader">Condition 2</div>
        </header>
        <main class="listContent">
          <div class="toDoList listColumn"></div>
          <div class="ongoingList listColumn"></div>
          <div class="doneList listColumn"></div>
        </main>
        <div class="currentTask modal">
          <textarea class="txtTask"></textarea><br />
          {% for dict_item in indicators %}
              {% for key, value in dict_item.items() %}
                  {% if key == "kind" %} 
                  <!-- will trigger update_chart function in script.js -->
                  <button onclick="loadIndicator('{{ value }}','momentum')" >{{value}}</button>
                  {% endif %}
              {% endfor %} 
          {% endfor %}
                    <!-- insert comparison buttons  -->
        <div id="compare"></div> 
        <p>OR AND BUTTONS DIFFRENT CLASSNAME</p>
        <div id="or_and"></div> 
          <label for="value_cond">value</label>
        <input id="value_cond" type="number">
        <button onclick="value_cond()" id="value_cond">Add value</button>
          
          <div class="buttons">
            <input type="button" class="btnOk" value="Add" />
            <input type="button" class="btnCancel" value="Cancel" />
          </div>
        </div>
        <div class="buttons"><a class="addTask">Add Condition</a>
      </div>

      <div class="help modal">
        <p class="helpText">
          Add a new "to do" task by pressing the plus ("+") button.<br />
          Move a task from one area to another ("to do", "ongoing", "done") by dragging and dropping it.
        </p>
        <div class="buttons">
          <input type="button" class="btnClose" value="Close" />
        </div>
      </div>
    </div>
    </main>
   </div>

      <div className='chart-container'>
        <h2>hello</h2>
        <div class="chart"></div>
      </div>

{% endblock %}
